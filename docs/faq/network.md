# 插件相关

## 功能相关

### 使用这个插件必须花钱吗？

如果你用默认配置，那么是需要的。你也可以选择自己搭建服务器或使用 colab 等，这些方案都是免费的。

## 网络相关

### 请求超时

如果偶尔发生无需在意。如果总是发生请尝试调高 `requestTimeout` 的数值或者配置 `proxyAgent`。

`proxyAgent` 设置的方式为

前往插件配置-全局设置-最下方的请求设置-使用的代理服务器地址-填入代理服务器地址-点击右上角的重载配置。

你要填入的内容为 `socks://ip:port` 例如 `socks://127.0.0.1:7890`。

### 未知错误 400 或 401

请确认 `type` 是否设置为 `token`。

将 `type` 切换成 `login` 后重载，再次切换成 `token` 重载可以解决此问题。

### 未知错误 404

请确认 `endpoint` 是否正确，以及版本是否是最新。

如果你选择的 `type` 是 `sd-webui`，你还需确认你使用的 `sd-webui` 是来自于 `AUTOMATIC1111` 的版本，**且在启动时添加了 `--api` 参数**。

如果部署 sd-webui 与运行 koishi 的不是同一台电脑，且未通过隧道转发本地端口, 那么你还需要添加 `--listen` 参数。

### 未知错误 422

请更新插件版本。如插件版本已是最新，请尝试重置插件配置，并重新填写相应字段解决。

### 未知错误 500

请更新插件版本。

### 未知错误 502

如果你选择的 `type` 是 `sd-webui`，且采用了公网转发的方式提供服务 (即在启动的时候传递了 `--share` 或 `--ngrok` 参数)，请确认你运行 `sd-webui` 的机器的网络情况，及与上述隧道服务的服务器的连通情况。

### 未知错误 503

如果你使用 NovelAI 官网作为后端 (`login` 或 `token`)，请尝试将 `endpoint` 中的 `api` 替换成 `backend-production-svc` 再试试。
